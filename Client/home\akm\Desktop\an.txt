#include<bits
stdc++.h>
using namespace std;
int main()
{
	int t;
	cin >> t;
	while(t--)
	{
		int n;
		cin >> n;
		int arr[n+2];
		int co = 0;
		for(int i=0;i<n;i++)
		{
			cin >> arr[i];
			if(arr[i]==-1)
				co++;
		}
		

cout << co << endl;
		if(co==n)
		{
			cout << "inf" << '\n';
			continue;
		}
		else if(co==0)
		{
			int x = arr[1] - arr[0];
			int g = 0;
			for(int i=2;i<n;i++)
			{
				if(arr[i]-arr[i-1]!=x)
				{
					cout << "impossible" << endl;
					g = 1;
					break;
				}
			}
			if(g==0)
			{
				cout << "inf" << endl;
				continue;
			}
		}
		else if(co==(n-1))
		{
			cout << "inf"  << endl;
			continue;
		}
		else
		{
			unordered_map<int,int> mp;
			int ele ,dis;
			int fc = 0;
			for(int i=0;i<n;i++)
			{
				if(arr[i]!=-1)
				{
					if(mp.find(arr[i])!=mp.end())
					{
						ele = arr[i];
						dis = i - mp[arr[i]];
						fc = 1;
						break;
					}
					else
					{
						mp[arr[i]] = i;
					}
				}
			}
			if(fc==0)
			{
				int jj = 0;
				int kk = 0;
				for(int  i=0;i<n;i++)
				{
					if(arr[i]!=-1)
					{
						jj = i;
						break;
					}
				}
				for(int i=jj+1;i<n;i++)
				{
					if(arr[i]!=-1)
					{
						kk = i;
						break;
					}
				}
				if((arr[kk]!=(kk-jj+arr[jj])))
				{
					cout << "impossible" << endl;
					continue;
				}
				else
				{
					int cq = 0;
					int fcc = 0;
					for(int i=kk+1;i<n;)
					{
						while(arr[i]==-1 && i<n)
						{
							cq ++;
							i++;
							if(i>=n)
								break;
						}
						if(i>=n)
							break;
						else
						{
							if(arr[i]==(arr[kk]+cq+1))
							{
								kk = i;
								cq  = 0;
								continue;
							}
							else
							{
								fcc = 1;
								break;
							}
						}
					}
					if(fcc==1) {
						cout << "impossible"<< endl;
						continue;
					}
					else{
						cout << "inf" << endl;
						continue;
					}

					continue;
				}
			}

			int st[n+5];
			int flag  = 0 ;
			for(int i=0;i<=n+1;i++)
			{
				st[i] = (i % dis) + 1;
			}
			for(int i=0;i<n;i++)
			{
				if(arr[i]!=-1)
				{
					if(arr[i]!=st[i])
					{
						flag = 1;
						break;
					}
				}
				else
					continue;
			}
			if(flag==0)
				cout << dis << endl;
			else
				cout << "impossible" << endl;
		}
	}
	return 0;
}
